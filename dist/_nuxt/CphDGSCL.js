import{g as C,A as M,j as L,B as N,C as Y,D as X,c as m,k as b,o as p,E as O,a as s,G as W,z as k,r as S,l as j,H as z,I as Z,J as x,F as q,q as P,t as y,y as ee,_ as te,K as U,L as ne,M as G,p as B,n as w,b as _,N as H,h as Q,i as oe,O as se,P as ae,Q as le,R as re,S as $,w as E,T as ie,U as ce,V as ue,W as de}from"./CuTSKi_8.js";import{_ as fe}from"./CjVdKjmg.js";const pe=Symbol.for("nuxt:client-only"),J=C({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:n,attrs:t}){const l=M(!1);L(()=>{l.value=!0});const c=N();return c&&(c._nuxtClientOnly=!0),Y(pe,!0),()=>{var i;if(l.value){const d=(i=n.default)==null?void 0:i.call(n);return d&&d.length===1?[X(d[0],t)]:d}const r=n.fallback||n.placeholder;if(r)return r();const u=e.fallback||e.placeholder||"",a=e.fallbackTag||e.placeholderTag||"span";return m(a,t,u)}}}),me=["autoComplete","name","type","placeholder","required","value"],he=C({__name:"Input",props:{modelValue:[String,Number],type:{type:String,default:"text"},placeholder:String,required:{type:[Boolean,String],default:!1},variant:String,className:String,name:String,handleChange:Function,handleBlur:Function,width:[Number,String],paddingLeft:String,autoComplete:[Boolean,String],children:null},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,l=n,c=b(()=>typeof t.required=="string"?t.required.toLowerCase()==="true":t.required),r=u=>{var a;l("update:modelValue",u.target.value),(a=t.handleChange)==null||a.call(t,u)};return(u,a)=>(p(),m("div",{class:"relative flex items-center rounded-md border h-fit",style:O({width:t.width||"auto",backgroundColor:"var(--Gray)",borderColor:"var(--Stroke)"})},[s("input",{autoComplete:t.autoComplete??"off",style:O({paddingLeft:t.paddingLeft??"0px"}),onInput:r,onBlur:a[0]||(a[0]=(...i)=>t.handleBlur&&t.handleBlur(...i)),name:t.name,class:k(["bg-transparent border-none w-full outline-none",t.variant==="center"?"font-semibold text-center":"",t.className]),type:t.type,placeholder:t.placeholder,required:c.value,value:t.modelValue},null,46,me),W(u.$slots,"default")],4))}}),xe={key:0,class:"noActive"},ve={key:1,class:"chatList"},ge=["onClick"],_e=["src"],be={class:"usersInfo"},ye={class:"userName"},we=C({__name:"ActiveChatModal",props:{closeModal:{type:Function}},setup(e){const n=e,t=S(null),l=j(),c=z(),r=b(()=>l.chats.filter(i=>l.visitedChatIds.includes(i.id)));function u(i){t.value&&!t.value.contains(i.target)&&n.closeModal()}function a(i){c.push(`/chat/${i}`),n.closeModal()}return L(()=>{document.addEventListener("mousedown",u)}),Z(()=>{document.removeEventListener("mousedown",u)}),(i,d)=>(p(),m("div",{ref_key:"modalRef",ref:t,class:"active-chat-modal"},[x(r).length===0?(p(),m("p",xe," There are no active chats ! ")):(p(),m("ul",ve,[(p(!0),m(q,null,P(x(r),f=>{var v,o;return p(),m("li",{key:f.id,class:"chatListItem"},[s("a",{href:"#",onClick:ee(h=>a(f.id),["prevent"])},[s("img",{src:(v=f.user)==null?void 0:v.avatar,alt:"Avatar",loading:"lazy",class:"avatar"},null,8,_e),s("div",be,[s("span",ye,y((o=f.user)==null?void 0:o.id),1),d[0]||(d[0]=s("span",{class:"reply"},"Reply to message",-1))])],8,ge)])}),128))]))],512))}}),ke=te(we,[["__scopeId","data-v-5146322a"]]),Ce={class:"flex items-center justify-between px-7 h-[88px] border-b",style:{borderColor:"var(--Stroke)",background:"transparent",width:"-webkit-fill-available"}},$e={key:0,class:"flex gap-2.5"},Se=["src"],Me={class:"flex flex-col justify-end"},Le={class:"text-[var(--Dark,#1c2434)] font-satoshi font-medium text-[16px] leading-[24px]"},Be={__name:"Header",setup(e){U.add(ne);const n=G(),t=b(()=>n.params.chatId),l=j(),c=b(()=>l.chats),r=b(()=>c.value.find(i=>i.id===t.value)),u=S(!1),a=()=>u.value=!u.value;return(i,d)=>(p(),m("div",null,[s("header",Ce,[r.value?(p(),m("div",$e,[s("img",{src:r.value.user.avatar,alt:"Avatar",class:"rounded-full w-[52px] h-[52px] flex-shrink-0"},null,8,Se),s("div",Me,[s("span",Le,y(r.value.user.id),1),d[0]||(d[0]=s("span",{class:"text-[var(--Text-color,#64748b)] font-satoshi font-medium text-[14px] leading-[22px]"}," Reply to message ",-1))])])):w("",!0),s("button",{onClick:a,class:"ml-auto flex items-center justify-center cursor-pointer bg-transparent border-none w-fit h-fit"},[_(x(H),{icon:["fas","ellipsis-h"],class:"fill-[var(--Text-color,#64748b)]",style:{width:"16px",height:"16px"}})])]),u.value?(p(),B(x(ke),{key:0,chats:c.value,closeModal:a},null,8,["chats"])):w("",!0)]))}};function Ee(e){return ae()?(le(e),!0):!1}const F=new WeakMap,je=(...e)=>{var n;const t=e[0],l=(n=N())==null?void 0:n.proxy;if(l==null&&!Q())throw new Error("injectLocal must be called in setup");return l&&F.has(l)&&t in F.get(l)?F.get(l)[t]:oe(...e)},Fe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Re=Object.prototype.toString,Ne=e=>Re.call(e)==="[object Object]";function V(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function R(e){return Array.isArray(e)?e:[e]}function Te(e,n,t){return se(e,n,{...t,immediate:!0})}const K=Fe?window:void 0;function Ie(e){var n;const t=$(e);return(n=t==null?void 0:t.$el)!=null?n:t}function Ae(...e){const n=[],t=()=>{n.forEach(a=>a()),n.length=0},l=(a,i,d,f)=>(a.addEventListener(i,d,f),()=>a.removeEventListener(i,d,f)),c=b(()=>{const a=R($(e[0])).filter(i=>i!=null);return a.every(i=>typeof i!="string")?a:void 0}),r=Te(()=>{var a,i;return[(i=(a=c.value)==null?void 0:a.map(d=>Ie(d)))!=null?i:[K].filter(d=>d!=null),R($(c.value?e[1]:e[0])),R(x(c.value?e[2]:e[1])),$(c.value?e[3]:e[2])]},([a,i,d,f])=>{if(t(),!(a!=null&&a.length)||!(i!=null&&i.length)||!(d!=null&&d.length))return;const v=Ne(f)?{...f}:f;n.push(...a.flatMap(o=>i.flatMap(h=>d.map(g=>l(o,h,g,v)))))},{flush:"post"}),u=()=>{r(),t()};return Ee(t),u}function De(){const e=M(!1),n=N();return n&&L(()=>{e.value=!0},n),e}function Oe(e){const n=De();return b(()=>(n.value,!!e()))}const Ve=Symbol("vueuse-ssr-width");function We(){const e=Q()?je(Ve,null):null;return typeof e=="number"?e:void 0}function ze(e,n={}){const{window:t=K,ssrWidth:l=We()}=n,c=Oe(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),r=M(typeof l=="number"),u=M(),a=M(!1),i=d=>{a.value=d.matches};return re(()=>{if(r.value){r.value=!c.value;const d=$(e).split(",");a.value=d.some(f=>{const v=f.includes("not all"),o=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let g=!!(o||h);return o&&g&&(g=l>=V(o[1])),h&&g&&(g=l<=V(h[1])),v?!g:g});return}c.value&&(u.value=t.matchMedia($(e)),a.value=u.value.matches)}),Ae(u,"change",i,{passive:!0}),b(()=>a.value)}const qe="flex flex-col items-center no-underline",Pe=C({__name:"FooterLogo",props:{variant:{type:String,default:"default"}},setup(e){return(n,t)=>{const l=fe;return p(),B(l,{to:"/",class:k([qe,e.variant])},{default:E(()=>[s("span",{class:k({"text-white font-normal capitalize":!0,"text-[12.84px] leading-[19.26px] md:text-[17.1px] md:leading-[25.65px]":e.variant==="navbarLogo","text-[19.11px] leading-[28.67px] md:text-[26.96px] md:leading-[40.44px]":e.variant==="formLogo"})}," Sandbox ",2)]),_:1},8,["class"])}}}),Ue=["type","disabled"],Ge="w-[280px] md:w-[300px] h-[50px] rounded-[20px] shadow-lg border-0 cursor-pointer px-0 flex justify-center items-center uppercase text-[18px] font-normal leading-[27px] tracking-[0.1em] transition-all duration-500 ease-in-out",He=`
  text-white
  bg-gradient-to-r from-[#ffc727] via-[#9e40ba] to-[#7000ff]
  hover:scale-105
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Qe=`
  text-[#623f8b]
  bg-[#fcfcfc]
  hover:scale-105
  hover:bg-gradient-to-r hover:from-white hover:via-[#623f8b] hover:to-white
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Je=C({__name:"FormButton",props:{type:{type:String,default:"button"},text:{type:String,required:!0},handlerFunction:{type:Function,required:!0},variant:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const n=e,t=c=>c==="multiColorButton"?He:c==="whiteButton"?Qe:"",l=c=>{n.handlerFunction(c)};return(c,r)=>(p(),m("button",{type:e.type,disabled:e.isDisabled,onClick:l,class:k(`${Ge} ${t(e.variant)}`)},y(e.text),11,Ue))}}),Ke=""+new URL("Radu.kCTkWP03.webp",import.meta.url).href,Ye={class:"fixed inset-0 z-[150] cursor-default transition-all duration-300 ease-in-out bg-[rgba(34,13,91,0.23)] backdrop-blur-sm flex items-center justify-center"},Xe={class:"w-full flex flex-col items-center gap-6"},Ze=["src"],et={class:"flex ml-4 sm:ml-0 gap-4 text-white text-2xl"},tt={href:"https://github.com/turbomatrixxxl",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},nt={href:"https://www.linkedin.com/in/radu-bogdan-naramzoiu-fullstack-developer/",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},ot="animate__animated animate__fadeInDown animate__slow",st={__name:"ModalFooter",props:{closeModal:{type:Function,required:!0}},setup(e){const n=S(null),t=r=>{setTimeout(()=>{n.value&&!n.value.contains(r.target)&&e.closeModal()},50)},l=r=>{r.key==="Escape"&&e.closeModal()};L(()=>{document.body.style.overflow="hidden",window.addEventListener("keydown",l),window.addEventListener("mousedown",t)}),ie(()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",l),window.removeEventListener("mousedown",t)});const c=ze("(min-width: 768px)");return(r,u)=>{const a=ce("font-awesome-icon");return p(),m("div",Ye,[s("div",{ref_key:"modalContentRef",ref:n,class:"flex flex-col items-center gap-2 w-[333px] p-4 pt-2 sm:w-[533px] sm:rounded-lg sm:p-5 bg-[var(--primary-color)] shadow-[0_4px_60px_rgba(0,0,0,0.25)] backdrop-blur-[50px]"},[x(c)?(p(),B(Pe,{key:0,variant:"formLogo"})):w("",!0),u[2]||(u[2]=s("h2",{class:"text-white text-xl font-semibold"},"Fullstack Developer:",-1)),s("div",Xe,[s("div",{class:k([["flex items-center justify-between p-2 w-full",ot],"sm:grid sm:grid-cols-[60px_170px_180px_50px] sm:items-center"]),style:{"animation-delay":"0.5s"}},[s("img",{src:x(Ke),alt:"Radu",class:"w-[60px] rounded-full"},null,8,Ze),u[0]||(u[0]=s("span",{class:"ml-4 text-white text-center sm:text-left sm:ml-8"}," Naramzoiu Radu Bogdan ",-1)),u[1]||(u[1]=s("em",{class:"text-white text-center sm:text-left"}," Fullstack Developer ",-1)),s("div",et,[s("a",tt,[_(a,{icon:"fa-brands fa-github"})]),s("a",nt,[_(a,{icon:"fa-brands fa-linkedin"})])])],2)]),_(Je,{type:"button",text:"Thank You",variant:"whiteButton",handlerFunction:i=>{i.stopPropagation(),e.closeModal()},class:"mt-4"},null,8,["handlerFunction"])],512)])}}},at={__name:"Footer",setup(e){const n=S(!1),t=()=>{n.value=!0},l=()=>{n.value=!1};return(c,r)=>(p(),m("footer",{onClick:t,class:"border border-white/20 text-center px-3 py-3 cursor-pointer text-white/60 bg-gradient-to-r from-[#2e1746] to-[#2e225f] transition-colors duration-300 ease-in-out hover:text-[#ff868d]",style:{borderColor:"rgba(255,255,255,0.2)"}},[r[0]||(r[0]=s("div",{class:"md:flex md:flex-row md:justify-center md:gap-2",style:{transition:"all 0.3s ease 0s"}},[s("p",null,"℗ & © Digis 2025"),s("p",{class:"md:ml-2"},"Powered by Radu Bogdan Naramzoiu")],-1)),n.value?(p(),B(st,{key:0,closeModal:l})):w("",!0)]))}},lt={class:"flex flex-col overflow-auto"},rt={key:0,class:"p-4 text-center text-gray-600"},it={key:1,class:"p-4 text-center text-red-600"},ct={key:2,class:"flex flex-col gap-2 p-0 list-none w-full overflow-auto"},ut=["onClick"],dt={class:"relative flex items-center justify-center w-fit"},ft=["src","onError"],pt={class:"flex flex-col overflow-hidden w-full"},mt=["title"],ht=["title"],xt=C({__name:"ChatsList",props:{search:{}},setup(e){const n=e,t=j(),l=z(),c=G(),r=S({});L(()=>{t.chats.length||t.fetchData()});function u(f){setTimeout(()=>{r.value[f]=(r.value[f]||0)+1},1e3)}function a(f){const v=f.messages.filter(o=>o.isInbox);return v.length?v.reduce((o,h)=>new Date(h.sentAt)>new Date(o.sentAt)?h:o):null}const i=b(()=>{const f=n.search.toLowerCase().trim();return t.chats.filter(v=>{var o,h;return(h=(o=v.user)==null?void 0:o.id)==null?void 0:h.toLowerCase().includes(f)})});function d(f){t.accessChat({chatId:f}),l.push(`/chat/${f}`)}return(f,v)=>(p(),m("div",lt,[x(t).loading?(p(),m("div",rt," Loading chats... ")):w("",!0),x(t).error?(p(),m("div",it," Error loading chats: "+y(x(t).error),1)):w("",!0),!x(t).loading&&!x(t).error?(p(),m("ul",ct,[(p(!0),m(q,null,P(i.value,o=>{var h,g,T,I,A,D;return p(),m("li",{key:o==null?void 0:o.id,onClick:Lt=>d(o==null?void 0:o.id),class:k(["flex items-center gap-3 p-2 rounded-md cursor-pointer",x(c).params.chatId===(o==null?void 0:o.id)?"bg-gray-300":"bg-white hover:bg-gray-100"])},[s("div",dt,[(p(),m("img",{key:r.value[o.id]||0,src:((h=o==null?void 0:o.user)==null?void 0:h.avatar)||"",alt:"User avatar",loading:"lazy",onError:()=>u(o==null?void 0:o.id),class:"w-11 h-11 rounded-full flex-shrink-0 object-cover"},null,40,ft)),s("span",{class:k(["absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-gray-300",(g=o==null?void 0:o.user)!=null&&g.isOnline?"bg-green-500":"bg-red-500"])},null,2)]),s("div",pt,[s("p",{class:"text-gray-900 font-medium text-sm truncate",title:((T=o==null?void 0:o.user)==null?void 0:T.id)||""},y((I=o==null?void 0:o.user)==null?void 0:I.id),9,mt),s("p",{class:"text-gray-500 text-sm font-medium truncate",title:((A=a(o))==null?void 0:A.content)||"No messages yet"},y(((D=a(o))==null?void 0:D.content)||"No messages yet"),9,ht)])],10,ut)}),128))])):w("",!0)]))}}),vt=C({__name:"ClientOnlyChatsList",props:{search:{}},setup(e){return(n,t)=>{const l=J;return p(),B(l,null,{default:E(()=>[_(xt,{search:n.search},null,8,["search"])]),_:1})}}}),gt={class:"flex flex-col h-full"},_t={class:"flex justify-center h-full rounded border border-slate-200 bg-white shadow-md"},bt={class:"flex flex-col h-full border-r border-slate-200 w-[27%]"},yt={class:"flex items-center justify-between gap-[58px] h-[88px] px-[25px] pr-[30px] border-b border-slate-200"},wt={class:"inline-flex items-start gap-[10px] rounded border border-slate-200 bg-slate-100 text-slate-800 text-[14px] font-medium leading-[22px] px-[10px] py-[3px]"},kt={class:"flex flex-col gap-[25px] justify-between overflow-hidden p-[30px] pb-[84px] pl-[25px]"},Ct={class:"absolute right-[13px] top-1/2 transform -translate-y-1/2 bg-transparent border-none outline-none"},$t={class:"flex flex-col h-[280px] overflow-y-auto"},St={class:"flex flex-col flex-grow h-full"},Mt={class:"flex flex-grow bg-transparent h-[100px]"},jt={__name:"default",setup(e){U.add(ue);const n=S(""),t=j(),{selectActiveChats:l}=de(t);return(c,r)=>{const u=J;return p(),m("div",gt,[s("div",_t,[s("aside",bt,[s("header",yt,[r[1]||(r[1]=s("p",{class:"text-slate-800 text-[20px] font-medium leading-[1.3] h-[26px]"}," Active Conversations ",-1)),s("div",wt,y(x(l)),1)]),s("div",kt,[_(he,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value=a),class:"text-slate-500 text-[14px] font-medium leading-[22px] py-[12px] pr-[40px] pl-[18px] relative hover:bg-slate-100 focus:bg-slate-100 transition duration-300",placeholder:"Search..."},{default:E(()=>[s("button",Ct,[_(x(H),{icon:["fas","magnifying-glass"],class:"w-[18px] h-[18px] text-slate-500"})])]),_:1},8,["modelValue"]),s("div",$t,[_(vt,{search:n.value},null,8,["search"])])])]),s("div",St,[_(u,null,{default:E(()=>[_(Be)]),_:1}),s("main",Mt,[W(c.$slots,"default")])])]),_(at)])}}};export{jt as default};
