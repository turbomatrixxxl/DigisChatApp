import{g as S,m as b,c as m,o as f,E as W,a as o,G as z,D as k,r as $,n as L,H as T,k as j,I as K,J as h,F as O,y as V,t as y,C as Y,_ as X,K as q,L as Z,q as G,j as B,x as w,b as _,M as U,N as P,h as H,i as ee,O as te,P as se,Q as oe,R as M,S as ne,T as C,w as Q,U as ae,v as re,V as le,W as ie}from"./oMxLijh5.js";import{_ as ce}from"./CNKi8HB2.js";const de=["autoComplete","name","type","placeholder","required","value"],ue=S({__name:"Input",props:{type:{type:String,default:"text"},placeholder:String,required:{type:[Boolean,String],default:!1},variant:String,className:String,name:String,handleChange:Function,handleBlur:Function,width:[Number,String],value:[String,Number],paddingLeft:String,autoComplete:[Boolean,String],children:null},setup(e){const t=e,s=b(()=>typeof t.required=="string"?t.required.toLowerCase()==="true":t.required);return(a,c)=>(f(),m("div",{class:"relative flex items-center rounded-md border h-fit",style:W({width:t.width||"auto",backgroundColor:"var(--Gray)",borderColor:"var(--Stroke)"})},[o("input",{autoComplete:t.autoComplete??"off",style:W({paddingLeft:t.paddingLeft??"0px"}),onInput:c[0]||(c[0]=(...n)=>t.handleChange&&t.handleChange(...n)),onBlur:c[1]||(c[1]=(...n)=>t.handleBlur&&t.handleBlur(...n)),name:t.name,class:k(["bg-transparent border-none w-full outline-none",t.variant==="center"?"font-semibold text-center":"",t.className]),type:t.type,placeholder:t.placeholder,required:s.value,value:t.value},null,46,de),z(a.$slots,"default")],4))}}),fe={key:0,class:"noActive"},pe={key:1,class:"chatList"},me=["onClick"],he=["src"],xe={class:"usersInfo"},ve={class:"userName"},ge=S({__name:"ActiveChatModal",props:{closeModal:{type:Function}},setup(e){const t=e,s=$(null),a=L(),c=T(),n=b(()=>a.chats.filter(i=>a.visitedChatIds.includes(i.id)));function u(i){s.value&&!s.value.contains(i.target)&&t.closeModal()}function r(i){c.push(`/chat/${i}`),t.closeModal()}return j(()=>{document.addEventListener("mousedown",u)}),K(()=>{document.removeEventListener("mousedown",u)}),(i,p)=>(f(),m("div",{ref_key:"modalRef",ref:s,class:"active-chat-modal"},[h(n).length===0?(f(),m("p",fe," There are no active chats ! ")):(f(),m("ul",pe,[(f(!0),m(O,null,V(h(n),d=>{var x,l;return f(),m("li",{key:d.id,class:"chatListItem"},[o("a",{href:"#",onClick:Y(v=>r(d.id),["prevent"])},[o("img",{src:(x=d.user)==null?void 0:x.avatar,alt:"Avatar",loading:"lazy",class:"avatar"},null,8,he),o("div",xe,[o("span",ve,y((l=d.user)==null?void 0:l.id),1),p[0]||(p[0]=o("span",{class:"reply"},"Reply to message",-1))])],8,me)])}),128))]))],512))}}),_e=X(ge,[["__scopeId","data-v-5146322a"]]),be={class:"relative"},ye={class:"flex items-center justify-between px-7 h-[88px] border-b",style:{borderColor:"var(--Stroke)",background:"transparent",width:"-webkit-fill-available"}},we={key:0,class:"flex gap-2.5"},ke=["src"],Ce={class:"flex flex-col justify-end"},$e={class:"text-[var(--Dark,#1c2434)] font-satoshi font-medium text-[16px] leading-[24px]"},Se={__name:"Header",setup(e){q.add(Z);const t=G(),s=b(()=>t.params.chatId),a=L(),c=b(()=>a.chats),n=b(()=>c.value.find(i=>i.id===s.value)),u=$(!1),r=()=>u.value=!u.value;return(i,p)=>(f(),m("div",be,[o("header",ye,[n.value?(f(),m("div",we,[o("img",{src:n.value.user.avatar,alt:"Avatar",class:"rounded-full w-[52px] h-[52px] flex-shrink-0"},null,8,ke),o("div",Ce,[o("span",$e,y(n.value.user.id),1),p[0]||(p[0]=o("span",{class:"text-[var(--Text-color,#64748b)] font-satoshi font-medium text-[14px] leading-[22px]"}," Reply to message ",-1))])])):w("",!0),o("button",{onClick:r,class:"ml-auto flex items-center justify-center cursor-pointer bg-transparent border-none w-fit h-fit"},[_(h(U),{icon:["fas","ellipsis-h"],class:"fill-[var(--Text-color,#64748b)]",style:{width:"16px",height:"16px"}})])]),u.value?(f(),B(h(_e),{key:0,chats:c.value,closeModal:r},null,8,["chats"])):w("",!0)]))}};function Me(e){return se()?(oe(e),!0):!1}const F=new WeakMap,Le=(...e)=>{var t;const s=e[0],a=(t=P())==null?void 0:t.proxy;if(a==null&&!H())throw new Error("injectLocal must be called in setup");return a&&F.has(a)&&s in F.get(a)?F.get(a)[s]:ee(...e)},je=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Be=Object.prototype.toString,Fe=e=>Be.call(e)==="[object Object]";function A(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function E(e){return Array.isArray(e)?e:[e]}function Ee(e,t,s){return te(e,t,{...s,immediate:!0})}const J=je?window:void 0;function Re(e){var t;const s=C(e);return(t=s==null?void 0:s.$el)!=null?t:s}function Ie(...e){const t=[],s=()=>{t.forEach(r=>r()),t.length=0},a=(r,i,p,d)=>(r.addEventListener(i,p,d),()=>r.removeEventListener(i,p,d)),c=b(()=>{const r=E(C(e[0])).filter(i=>i!=null);return r.every(i=>typeof i!="string")?r:void 0}),n=Ee(()=>{var r,i;return[(i=(r=c.value)==null?void 0:r.map(p=>Re(p)))!=null?i:[J].filter(p=>p!=null),E(C(c.value?e[1]:e[0])),E(h(c.value?e[2]:e[1])),C(c.value?e[3]:e[2])]},([r,i,p,d])=>{if(s(),!(r!=null&&r.length)||!(i!=null&&i.length)||!(p!=null&&p.length))return;const x=Fe(d)?{...d}:d;t.push(...r.flatMap(l=>i.flatMap(v=>p.map(g=>a(l,v,g,x)))))},{flush:"post"}),u=()=>{n(),s()};return Me(s),u}function Ne(){const e=M(!1),t=P();return t&&j(()=>{e.value=!0},t),e}function De(e){const t=Ne();return b(()=>(t.value,!!e()))}const We=Symbol("vueuse-ssr-width");function Ae(){const e=H()?Le(We,null):null;return typeof e=="number"?e:void 0}function ze(e,t={}){const{window:s=J,ssrWidth:a=Ae()}=t,c=De(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),n=M(typeof a=="number"),u=M(),r=M(!1),i=p=>{r.value=p.matches};return ne(()=>{if(n.value){n.value=!c.value;const p=C(e).split(",");r.value=p.some(d=>{const x=d.includes("not all"),l=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let g=!!(l||v);return l&&g&&(g=a>=A(l[1])),v&&g&&(g=a<=A(v[1])),x?!g:g});return}c.value&&(u.value=s.matchMedia(C(e)),r.value=u.value.matches)}),Ie(u,"change",i,{passive:!0}),b(()=>r.value)}const Te="flex flex-col items-center no-underline",Oe=S({__name:"FooterLogo",props:{variant:{type:String,default:"default"}},setup(e){return(t,s)=>{const a=ce;return f(),B(a,{to:"/",class:k([Te,e.variant])},{default:Q(()=>[o("span",{class:k({"text-white font-normal capitalize":!0,"text-[12.84px] leading-[19.26px] md:text-[17.1px] md:leading-[25.65px]":e.variant==="navbarLogo","text-[19.11px] leading-[28.67px] md:text-[26.96px] md:leading-[40.44px]":e.variant==="formLogo"})}," Sandbox ",2)]),_:1},8,["class"])}}}),Ve=["type","disabled"],qe="w-[280px] md:w-[300px] h-[50px] rounded-[20px] shadow-lg border-0 cursor-pointer px-0 flex justify-center items-center uppercase text-[18px] font-normal leading-[27px] tracking-[0.1em] transition-all duration-500 ease-in-out",Ge=`
  text-white
  bg-gradient-to-r from-[#ffc727] via-[#9e40ba] to-[#7000ff]
  hover:scale-105
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ue=`
  text-[#623f8b]
  bg-[#fcfcfc]
  hover:scale-105
  hover:bg-gradient-to-r hover:from-white hover:via-[#623f8b] hover:to-white
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110a
`,Pe=S({__name:"FormButton",props:{type:{type:String,default:"button"},text:String,handlerFunction:Function,variant:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const t=s=>s==="multiColorButtton"?Ge:s==="whiteButtton"?Ue:"";return(s,a)=>(f(),m("button",{type:e.type,disabled:e.isDisabled,onClick:a[0]||(a[0]=(...c)=>e.handlerFunction&&e.handlerFunction(...c)),class:k(`${qe} ${t(e.variant)}`)},y(e.text),11,Ve))}}),He=""+new URL("Radu.kCTkWP03.webp",import.meta.url).href,Qe={class:"flex flex-col items-center gap-2 w-[333px] p-4 pt-2 sm:w-[533px] sm:rounded-lg sm:p-5 bg-[var(--primary-color)] shadow-[0_4px_60px_rgba(0,0,0,0.25)] backdrop-blur-[50px]"},Je={class:"w-full flex flex-col items-center gap-6"},Ke=["src"],Ye={class:"flex ml-4 sm:ml-0 gap-4 text-white text-2xl"},Xe={href:"https://github.com/turbomatrixxxl","aria-label":"GitHub profile",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},Ze={href:"https://www.linkedin.com/in/radu-bogdan-naramzoiu-fullstack-developer/","aria-label":"LinkedIn profile",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},et="animate__animated animate__fadeInDown animate__slow",tt={__name:"ModalFooter",props:{closeModal:Function},setup(e){const t=e,s=$(null);j(()=>{document.body.style.overflow="hidden";const n=u=>{u.key==="Escape"&&t.closeModal()};window.addEventListener("keydown",n),ae(()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",n)})});const a=n=>{n.target===s.value&&t.closeModal()},c=ze("(min-width: 768px)");return(n,u)=>{const r=re("font-awesome-icon");return f(),m("div",{ref_key:"modalRef",ref:s,onClick:a,class:"fixed inset-0 z-[150] cursor-default transition-all duration-300 ease-in-out bg-[rgba(34,13,91,0.23)] backdrop-blur-sm flex items-center justify-center"},[o("div",Qe,[h(c)?(f(),B(Oe,{key:0,variant:"formLogo"})):w("",!0),u[2]||(u[2]=o("h2",{class:"text-white text-xl font-semibold"},"Fullstack Developer:",-1)),o("div",Je,[o("div",{class:k([["flex items-center justify-between p-2 w-full",et],"sm:grid sm:grid-cols-[60px_170px_180px_50px] sm:items-center"]),style:{"animation-delay":"0.5s"}},[o("img",{src:h(He),alt:"Radu",class:"w-[60px] rounded-full"},null,8,Ke),u[0]||(u[0]=o("span",{class:"ml-4 text-white text-center sm:text-left sm:ml-8"}," Naramzoiu Radu Bogdan ",-1)),u[1]||(u[1]=o("em",{class:"text-white text-center sm:text-left"}," Fullstack Developer ",-1)),o("div",Ye,[o("a",Xe,[_(r,{icon:"fa-brands fa-github"})]),o("a",Ze,[_(r,{icon:"fa-brands fa-linkedin"})])])],2)]),_(Pe,{type:"button",text:"Thank You",variant:"whiteButtton",handlerFunction:t.closeModal,class:"mt-4"},null,8,["handlerFunction"])])],512)}}},st={__name:"Footer",setup(e){const t=$(!1),s=()=>{t.value=!0},a=()=>{t.value=!1};return(c,n)=>(f(),m("footer",{onClick:s,class:"border border-white/20 text-center px-3 py-3 cursor-pointer text-white/60 bg-gradient-to-r from-[#2e1746] to-[#2e225f] transition-colors duration-300 ease-in-out hover:text-[#ff868d]",style:{borderColor:"rgba(255,255,255,0.2)"}},[n[0]||(n[0]=o("div",{class:"md:flex md:flex-row md:justify-center md:gap-2",style:{transition:"all 0.3s ease 0s"}},[o("p",null,"℗ & © Digis 2025"),o("p",{class:"md:ml-2"},"Powered by Radu Bogdan Naramzoiu")],-1)),t.value?(f(),B(tt,{key:0,closeModal:a})):w("",!0)]))}},ot={key:0,class:"p-4 text-center text-gray-600"},nt={key:1,class:"p-4 text-center text-red-600"},at={key:2,class:"flex flex-col gap-2 p-0 list-none w-full overflow-auto"},rt=["onClick"],lt={class:"relative flex items-center justify-center w-fit"},it=["src","onError"],ct={class:"flex flex-col overflow-hidden w-full"},dt=["title"],ut=["title"],ft=S({__name:"ChatsList",props:{search:{type:String,default:""}},setup(e){const t=e,s=L(),a=T(),c=G(),n=$({});j(()=>{s.chats.length||s.fetchData()});function u(d){setTimeout(()=>{n.value[d]=(n.value[d]||0)+1},1e3)}function r(d){const x=d.messages.filter(l=>l.isInbox);return x.length?x.reduce((l,v)=>new Date(v.sentAt)>new Date(l.sentAt)?v:l):null}const i=b(()=>s.chats.filter(d=>{var x,l;return(l=(x=d.user)==null?void 0:x.id)==null?void 0:l.toLowerCase().includes(t.search.toLowerCase())}));function p(d){s.accessChat({chatId:d}),a.push(`/chat/${d}`)}return(d,x)=>(f(),m("div",null,[h(s).loading?(f(),m("div",ot," Loading chats... ")):w("",!0),h(s).error?(f(),m("div",nt," Error loading chats: "+y(h(s).error),1)):w("",!0),!h(s).loading&&!h(s).error?(f(),m("ul",at,[(f(!0),m(O,null,V(i.value,l=>{var v,g,R,I,N,D;return f(),m("li",{key:l.id,onClick:kt=>p(l.id),class:k(["flex items-center gap-3 p-2 rounded-md cursor-pointer",h(c).params.chatId===l.id?"bg-gray-300":"bg-white hover:bg-gray-100"])},[o("div",lt,[(f(),m("img",{key:n.value[l.id]||0,src:((v=l.user)==null?void 0:v.avatar)||"",alt:"User avatar",loading:"lazy",onError:()=>u(l.id),class:"w-11 h-11 rounded-full flex-shrink-0 object-cover"},null,40,it)),o("span",{class:k(["absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-gray-300",(g=l.user)!=null&&g.isOnline?"bg-green-500":"bg-red-500"])},null,2)]),o("div",ct,[o("p",{class:"text-gray-900 font-medium text-sm truncate",title:((R=l.user)==null?void 0:R.id)||""},y((I=l.user)==null?void 0:I.id),9,dt),o("p",{class:"text-gray-500 text-sm font-medium truncate",title:((N=r(l))==null?void 0:N.content)||"No messages yet"},y(((D=r(l))==null?void 0:D.content)||"No messages yet"),9,ut)])],10,rt)}),128))])):w("",!0)]))}}),pt={class:"flex flex-col h-full"},mt={class:"flex justify-center h-full rounded border border-slate-200 bg-white shadow-md"},ht={class:"flex flex-col h-full border-r border-slate-200 w-[27%]"},xt={class:"flex items-center justify-between gap-[58px] h-[88px] px-[25px] pr-[30px] border-b border-slate-200"},vt={class:"inline-flex items-start gap-[10px] rounded border border-slate-200 bg-slate-100 text-slate-800 text-[14px] font-medium leading-[22px] px-[10px] py-[3px]"},gt={class:"flex flex-col gap-[25px] justify-between overflow-hidden p-[30px] pb-[84px] pl-[25px]"},_t={class:"absolute right-[13px] top-1/2 transform -translate-y-1/2 bg-transparent border-none outline-none"},bt={class:"flex flex-col h-[430px] overflow-y-auto"},yt={class:"flex flex-col flex-grow h-full"},wt={class:"flex-grow bg-transparent"},St={__name:"default",setup(e){q.add(le);const t=$(""),s=L(),{selectActiveChats:a}=ie(s);return(c,n)=>(f(),m("div",pt,[o("div",mt,[o("aside",ht,[o("header",xt,[n[1]||(n[1]=o("p",{class:"text-slate-800 text-[20px] font-medium leading-[1.3] h-[26px]"}," Active Conversations ",-1)),o("div",vt,y(h(a)),1)]),o("div",gt,[_(ue,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=u=>t.value=u),class:"text-slate-500 text-[14px] font-medium leading-[22px] py-[12px] pr-[40px] pl-[18px] relative hover:bg-slate-100 focus:bg-slate-100 transition duration-300",placeholder:"Search..."},{default:Q(()=>[o("button",_t,[_(h(U),{icon:["fas","magnifying-glass"],class:"w-[18px] h-[18px] text-slate-500"})])]),_:1},8,["modelValue"]),o("div",bt,[_(ft,{search:t.value},null,8,["search"])])])]),o("div",yt,[_(Se),o("main",wt,[z(c.$slots,"default")])])]),_(st)]))}};export{St as default};
