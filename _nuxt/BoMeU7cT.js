import{g as S,j as b,c as m,o as f,z as A,a as n,A as W,y as C,r as $,k as L,B as T,C as B,D as K,E as x,F as O,p as V,t as y,x as Y,_ as X,G as q,H as Z,I as U,m as E,n as w,b as _,J as G,K as P,h as H,i as ee,L as te,M as se,N as oe,O as M,P as ne,Q as k,w as Q,R as ae,S as re,T as le,U as ie}from"./BiFL3GWb.js";import{_ as de}from"./CeEv2e1k.js";const ue=["autoComplete","name","type","placeholder","required","value"],ce=S({__name:"Input",props:{type:{type:String,default:"text"},placeholder:String,required:{type:[Boolean,String],default:!1},variant:String,className:String,name:String,handleChange:Function,handleBlur:Function,width:[Number,String],value:[String,Number],paddingLeft:String,autoComplete:[Boolean,String],children:null},setup(e){const t=e,s=b(()=>typeof t.required=="string"?t.required.toLowerCase()==="true":t.required);return(r,l)=>(f(),m("div",{class:"relative flex items-center rounded-md border h-fit",style:A({width:t.width||"auto",backgroundColor:"var(--Gray)",borderColor:"var(--Stroke)"})},[n("input",{autoComplete:t.autoComplete??"off",style:A({paddingLeft:t.paddingLeft??"0px"}),onInput:l[0]||(l[0]=(...a)=>t.handleChange&&t.handleChange(...a)),onBlur:l[1]||(l[1]=(...a)=>t.handleBlur&&t.handleBlur(...a)),name:t.name,class:C(["bg-transparent border-none w-full outline-none",t.variant==="center"?"font-semibold text-center":"",t.className]),type:t.type,placeholder:t.placeholder,required:s.value,value:t.value},null,46,ue),W(r.$slots,"default")],4))}}),fe={key:0,class:"noActive"},pe={key:1,class:"chatList"},me=["onClick"],xe=["src"],he={class:"usersInfo"},ve={class:"userName"},ge=S({__name:"ActiveChatModal",props:{closeModal:{type:Function}},setup(e){const t=e,s=$(null),r=L(),l=T(),a=b(()=>r.chats.filter(d=>r.visitedChatIds.includes(d.id)));function c(d){s.value&&!s.value.contains(d.target)&&t.closeModal()}function i(d){l.push(`/chat/${d}`),t.closeModal()}return B(()=>{document.addEventListener("mousedown",c)}),K(()=>{document.removeEventListener("mousedown",c)}),(d,p)=>(f(),m("div",{ref_key:"modalRef",ref:s,class:"active-chat-modal"},[x(a).length===0?(f(),m("p",fe," There are no active chats ! ")):(f(),m("ul",pe,[(f(!0),m(O,null,V(x(a),u=>{var h,o;return f(),m("li",{key:u.id,class:"chatListItem"},[n("a",{href:"#",onClick:Y(v=>i(u.id),["prevent"])},[n("img",{src:(h=u.user)==null?void 0:h.avatar,alt:"Avatar",loading:"lazy",class:"avatar"},null,8,xe),n("div",he,[n("span",ve,y((o=u.user)==null?void 0:o.id),1),p[0]||(p[0]=n("span",{class:"reply"},"Reply to message",-1))])],8,me)])}),128))]))],512))}}),_e=X(ge,[["__scopeId","data-v-5146322a"]]),be={class:"flex items-center justify-between px-7 h-[88px] border-b",style:{borderColor:"var(--Stroke)",background:"transparent",width:"-webkit-fill-available"}},ye={key:0,class:"flex gap-2.5"},we=["src"],Ce={class:"flex flex-col justify-end"},ke={class:"text-[var(--Dark,#1c2434)] font-satoshi font-medium text-[16px] leading-[24px]"},$e={__name:"Header",setup(e){q.add(Z);const t=U(),s=b(()=>t.params.chatId),r=L(),l=b(()=>r.chats),a=b(()=>l.value.find(d=>d.id===s.value)),c=$(!1),i=()=>c.value=!c.value;return(d,p)=>(f(),m("div",null,[n("header",be,[a.value?(f(),m("div",ye,[n("img",{src:a.value.user.avatar,alt:"Avatar",class:"rounded-full w-[52px] h-[52px] flex-shrink-0"},null,8,we),n("div",Ce,[n("span",ke,y(a.value.user.id),1),p[0]||(p[0]=n("span",{class:"text-[var(--Text-color,#64748b)] font-satoshi font-medium text-[14px] leading-[22px]"}," Reply to message ",-1))])])):w("",!0),n("button",{onClick:i,class:"ml-auto flex items-center justify-center cursor-pointer bg-transparent border-none w-fit h-fit"},[_(x(G),{icon:["fas","ellipsis-h"],class:"fill-[var(--Text-color,#64748b)]",style:{width:"16px",height:"16px"}})])]),c.value?(f(),E(x(_e),{key:0,chats:l.value,closeModal:i},null,8,["chats"])):w("",!0)]))}};function Se(e){return se()?(oe(e),!0):!1}const j=new WeakMap,Me=(...e)=>{var t;const s=e[0],r=(t=P())==null?void 0:t.proxy;if(r==null&&!H())throw new Error("injectLocal must be called in setup");return r&&j.has(r)&&s in j.get(r)?j.get(r)[s]:ee(...e)},Le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Be=Object.prototype.toString,Ee=e=>Be.call(e)==="[object Object]";function z(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function F(e){return Array.isArray(e)?e:[e]}function je(e,t,s){return te(e,t,{...s,immediate:!0})}const J=Le?window:void 0;function Fe(e){var t;const s=k(e);return(t=s==null?void 0:s.$el)!=null?t:s}function Re(...e){const t=[],s=()=>{t.forEach(i=>i()),t.length=0},r=(i,d,p,u)=>(i.addEventListener(d,p,u),()=>i.removeEventListener(d,p,u)),l=b(()=>{const i=F(k(e[0])).filter(d=>d!=null);return i.every(d=>typeof d!="string")?i:void 0}),a=je(()=>{var i,d;return[(d=(i=l.value)==null?void 0:i.map(p=>Fe(p)))!=null?d:[J].filter(p=>p!=null),F(k(l.value?e[1]:e[0])),F(x(l.value?e[2]:e[1])),k(l.value?e[3]:e[2])]},([i,d,p,u])=>{if(s(),!(i!=null&&i.length)||!(d!=null&&d.length)||!(p!=null&&p.length))return;const h=Ee(u)?{...u}:u;t.push(...i.flatMap(o=>d.flatMap(v=>p.map(g=>r(o,v,g,h)))))},{flush:"post"}),c=()=>{a(),s()};return Se(s),c}function Ie(){const e=M(!1),t=P();return t&&B(()=>{e.value=!0},t),e}function Ne(e){const t=Ie();return b(()=>(t.value,!!e()))}const De=Symbol("vueuse-ssr-width");function Ae(){const e=H()?Me(De,null):null;return typeof e=="number"?e:void 0}function ze(e,t={}){const{window:s=J,ssrWidth:r=Ae()}=t,l=Ne(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),a=M(typeof r=="number"),c=M(),i=M(!1),d=p=>{i.value=p.matches};return ne(()=>{if(a.value){a.value=!l.value;const p=k(e).split(",");i.value=p.some(u=>{const h=u.includes("not all"),o=u.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=u.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let g=!!(o||v);return o&&g&&(g=r>=z(o[1])),v&&g&&(g=r<=z(v[1])),h?!g:g});return}l.value&&(c.value=s.matchMedia(k(e)),i.value=c.value.matches)}),Re(c,"change",d,{passive:!0}),b(()=>i.value)}const We="flex flex-col items-center no-underline",Te=S({__name:"FooterLogo",props:{variant:{type:String,default:"default"}},setup(e){return(t,s)=>{const r=de;return f(),E(r,{to:"/",class:C([We,e.variant])},{default:Q(()=>[n("span",{class:C({"text-white font-normal capitalize":!0,"text-[12.84px] leading-[19.26px] md:text-[17.1px] md:leading-[25.65px]":e.variant==="navbarLogo","text-[19.11px] leading-[28.67px] md:text-[26.96px] md:leading-[40.44px]":e.variant==="formLogo"})}," Sandbox ",2)]),_:1},8,["class"])}}}),Oe=["type","disabled"],Ve="w-[280px] md:w-[300px] h-[50px] rounded-[20px] shadow-lg border-0 cursor-pointer px-0 flex justify-center items-center uppercase text-[18px] font-normal leading-[27px] tracking-[0.1em] transition-all duration-500 ease-in-out",qe=`
  text-white
  bg-gradient-to-r from-[#ffc727] via-[#9e40ba] to-[#7000ff]
  hover:scale-105
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ue=`
  text-[#623f8b]
  bg-[#fcfcfc]
  hover:scale-105
  hover:bg-gradient-to-r hover:from-white hover:via-[#623f8b] hover:to-white
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ge=S({__name:"FormButton",props:{type:{type:String,default:"button"},text:{type:String,required:!0},handlerFunction:{type:Function,required:!0},variant:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const t=e,s=l=>l==="multiColorButton"?qe:l==="whiteButton"?Ue:"",r=l=>{t.handlerFunction(l)};return(l,a)=>(f(),m("button",{type:e.type,disabled:e.isDisabled,onClick:r,class:C(`${Ve} ${s(e.variant)}`)},y(e.text),11,Oe))}}),Pe=""+new URL("Radu.kCTkWP03.webp",import.meta.url).href,He={class:"fixed inset-0 z-[150] cursor-default transition-all duration-300 ease-in-out bg-[rgba(34,13,91,0.23)] backdrop-blur-sm flex items-center justify-center"},Qe={class:"w-full flex flex-col items-center gap-6"},Je=["src"],Ke={class:"flex ml-4 sm:ml-0 gap-4 text-white text-2xl"},Ye={href:"https://github.com/turbomatrixxxl",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},Xe={href:"https://www.linkedin.com/in/radu-bogdan-naramzoiu-fullstack-developer/",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},Ze="animate__animated animate__fadeInDown animate__slow",et={__name:"ModalFooter",props:{closeModal:{type:Function,required:!0}},setup(e){const t=$(null),s=a=>{setTimeout(()=>{t.value&&!t.value.contains(a.target)&&e.closeModal()},50)},r=a=>{a.key==="Escape"&&e.closeModal()};B(()=>{document.body.style.overflow="hidden",window.addEventListener("keydown",r),window.addEventListener("mousedown",s)}),ae(()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",r),window.removeEventListener("mousedown",s)});const l=ze("(min-width: 768px)");return(a,c)=>{const i=re("font-awesome-icon");return f(),m("div",He,[n("div",{ref_key:"modalContentRef",ref:t,class:"flex flex-col items-center gap-2 w-[333px] p-4 pt-2 sm:w-[533px] sm:rounded-lg sm:p-5 bg-[var(--primary-color)] shadow-[0_4px_60px_rgba(0,0,0,0.25)] backdrop-blur-[50px]"},[x(l)?(f(),E(Te,{key:0,variant:"formLogo"})):w("",!0),c[2]||(c[2]=n("h2",{class:"text-white text-xl font-semibold"},"Fullstack Developer:",-1)),n("div",Qe,[n("div",{class:C([["flex items-center justify-between p-2 w-full",Ze],"sm:grid sm:grid-cols-[60px_170px_180px_50px] sm:items-center"]),style:{"animation-delay":"0.5s"}},[n("img",{src:x(Pe),alt:"Radu",class:"w-[60px] rounded-full"},null,8,Je),c[0]||(c[0]=n("span",{class:"ml-4 text-white text-center sm:text-left sm:ml-8"}," Naramzoiu Radu Bogdan ",-1)),c[1]||(c[1]=n("em",{class:"text-white text-center sm:text-left"}," Fullstack Developer ",-1)),n("div",Ke,[n("a",Ye,[_(i,{icon:"fa-brands fa-github"})]),n("a",Xe,[_(i,{icon:"fa-brands fa-linkedin"})])])],2)]),_(Ge,{type:"button",text:"Thank You",variant:"whiteButton",handlerFunction:e.closeModal,class:"mt-4"},null,8,["handlerFunction"])],512)])}}},tt={__name:"Footer",setup(e){const t=$(!1),s=()=>{t.value=!0},r=()=>{t.value=!1};return(l,a)=>(f(),m("footer",{onClick:s,class:"border border-white/20 text-center px-3 py-3 cursor-pointer text-white/60 bg-gradient-to-r from-[#2e1746] to-[#2e225f] transition-colors duration-300 ease-in-out hover:text-[#ff868d]",style:{borderColor:"rgba(255,255,255,0.2)"}},[a[0]||(a[0]=n("div",{class:"md:flex md:flex-row md:justify-center md:gap-2",style:{transition:"all 0.3s ease 0s"}},[n("p",null,"℗ & © Digis 2025"),n("p",{class:"md:ml-2"},"Powered by Radu Bogdan Naramzoiu")],-1)),t.value?(f(),E(et,{key:0,closeModal:r})):w("",!0)]))}},st={class:"flex flex-col overflow-auto"},ot={key:0,class:"p-4 text-center text-gray-600"},nt={key:1,class:"p-4 text-center text-red-600"},at={key:2,class:"flex flex-col gap-2 p-0 list-none w-full overflow-auto"},rt=["onClick"],lt={class:"relative flex items-center justify-center w-fit"},it=["src","onError"],dt={class:"flex flex-col overflow-hidden w-full"},ut=["title"],ct=["title"],ft=S({__name:"ChatsList",props:{search:{type:String,default:""}},setup(e){const t=e,s=L(),r=T(),l=U(),a=$({});B(()=>{s.chats.length||s.fetchData()});function c(u){setTimeout(()=>{a.value[u]=(a.value[u]||0)+1},1e3)}function i(u){const h=u.messages.filter(o=>o.isInbox);return h.length?h.reduce((o,v)=>new Date(v.sentAt)>new Date(o.sentAt)?v:o):null}const d=b(()=>s.chats.filter(u=>{var h,o;return(o=(h=u.user)==null?void 0:h.id)==null?void 0:o.toLowerCase().includes(t.search.toLowerCase())}));function p(u){s.accessChat({chatId:u}),r.push(`/chat/${u}`)}return(u,h)=>(f(),m("div",st,[x(s).loading?(f(),m("div",ot," Loading chats... ")):w("",!0),x(s).error?(f(),m("div",nt," Error loading chats: "+y(x(s).error),1)):w("",!0),!x(s).loading&&!x(s).error?(f(),m("ul",at,[(f(!0),m(O,null,V(d.value,o=>{var v,g,R,I,N,D;return f(),m("li",{key:o==null?void 0:o.id,onClick:Ct=>p(o==null?void 0:o.id),class:C(["flex items-center gap-3 p-2 rounded-md cursor-pointer",x(l).params.chatId===(o==null?void 0:o.id)?"bg-gray-300":"bg-white hover:bg-gray-100"])},[n("div",lt,[(f(),m("img",{key:a.value[o.id]||0,src:((v=o==null?void 0:o.user)==null?void 0:v.avatar)||"",alt:"User avatar",loading:"lazy",onError:()=>c(o==null?void 0:o.id),class:"w-11 h-11 rounded-full flex-shrink-0 object-cover"},null,40,it)),n("span",{class:C(["absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-gray-300",(g=o==null?void 0:o.user)!=null&&g.isOnline?"bg-green-500":"bg-red-500"])},null,2)]),n("div",dt,[n("p",{class:"text-gray-900 font-medium text-sm truncate",title:((R=o==null?void 0:o.user)==null?void 0:R.id)||""},y((I=o==null?void 0:o.user)==null?void 0:I.id),9,ut),n("p",{class:"text-gray-500 text-sm font-medium truncate",title:((N=i(o))==null?void 0:N.content)||"No messages yet"},y(((D=i(o))==null?void 0:D.content)||"No messages yet"),9,ct)])],10,rt)}),128))])):w("",!0)]))}}),pt={class:"flex flex-col h-full"},mt={class:"flex justify-center h-full rounded border border-slate-200 bg-white shadow-md"},xt={class:"flex flex-col h-full border-r border-slate-200 w-[27%]"},ht={class:"flex items-center justify-between gap-[58px] h-[88px] px-[25px] pr-[30px] border-b border-slate-200"},vt={class:"inline-flex items-start gap-[10px] rounded border border-slate-200 bg-slate-100 text-slate-800 text-[14px] font-medium leading-[22px] px-[10px] py-[3px]"},gt={class:"flex flex-col gap-[25px] justify-between overflow-hidden p-[30px] pb-[84px] pl-[25px]"},_t={class:"absolute right-[13px] top-1/2 transform -translate-y-1/2 bg-transparent border-none outline-none"},bt={class:"flex flex-col h-[280px] overflow-y-auto"},yt={class:"flex flex-col flex-grow h-full"},wt={class:"flex-grow bg-transparent"},St={__name:"default",setup(e){q.add(le);const t=$(""),s=L(),{selectActiveChats:r}=ie(s);return(l,a)=>(f(),m("div",pt,[n("div",mt,[n("aside",xt,[n("header",ht,[a[1]||(a[1]=n("p",{class:"text-slate-800 text-[20px] font-medium leading-[1.3] h-[26px]"}," Active Conversations ",-1)),n("div",vt,y(x(r)),1)]),n("div",gt,[_(ce,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c),class:"text-slate-500 text-[14px] font-medium leading-[22px] py-[12px] pr-[40px] pl-[18px] relative hover:bg-slate-100 focus:bg-slate-100 transition duration-300",placeholder:"Search..."},{default:Q(()=>[n("button",_t,[_(x(G),{icon:["fas","magnifying-glass"],class:"w-[18px] h-[18px] text-slate-500"})])]),_:1},8,["modelValue"]),n("div",bt,[_(ft,{search:t.value},null,8,["search"])])])]),n("div",yt,[_($e),n("main",wt,[W(l.$slots,"default")])])]),_(tt)]))}};export{St as default};
