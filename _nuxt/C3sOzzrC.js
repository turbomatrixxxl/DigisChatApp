import{g as C,A as M,j as L,B as N,C as X,D as Y,E as Z,c as m,k as b,o as p,G as O,a as s,H as W,z as k,r as S,l as j,I as z,J as ee,K as x,F as q,q as P,t as y,y as te,_ as ne,L as U,M as oe,N as G,p as B,n as w,b as _,O as H,h as Q,i as se,P as ae,Q as le,R as re,S as ie,T as $,w as E,U as ce,V as ue,W as de,X as fe}from"./ZWIag5OR.js";import{_ as pe}from"./C-k-783C.js";const me=Symbol.for("nuxt:client-only"),J=C({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:n,attrs:t}){const l=M(!1);L(()=>{l.value=!0});const c=N();return c&&(c._nuxtClientOnly=!0),X(me,!0),()=>{var i;if(l.value){const d=(i=n.default)==null?void 0:i.call(n);return d&&d.length===1?[Y(d[0],t)]:d}const r=n.fallback||n.placeholder;if(r)return Z(r);const u=e.fallback||e.placeholder||"",a=e.fallbackTag||e.placeholderTag||"span";return m(a,t,u)}}}),he=["autoComplete","name","type","placeholder","required","value"],xe=C({__name:"Input",props:{modelValue:[String,Number],type:{type:String,default:"text"},placeholder:String,required:{type:[Boolean,String],default:!1},variant:String,className:String,name:String,handleChange:Function,handleBlur:Function,width:[Number,String],paddingLeft:String,autoComplete:[Boolean,String],children:null},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,l=n,c=b(()=>typeof t.required=="string"?t.required.toLowerCase()==="true":t.required),r=u=>{var a;l("update:modelValue",u.target.value),(a=t.handleChange)==null||a.call(t,u)};return(u,a)=>(p(),m("div",{class:"relative flex items-center rounded-md border h-fit",style:O({width:t.width||"auto",backgroundColor:"var(--Gray)",borderColor:"var(--Stroke)"})},[s("input",{autoComplete:t.autoComplete??"off",style:O({paddingLeft:t.paddingLeft??"0px"}),onInput:r,onBlur:a[0]||(a[0]=(...i)=>t.handleBlur&&t.handleBlur(...i)),name:t.name,class:k(["bg-transparent border-none w-full outline-none",t.variant==="center"?"font-semibold text-center":"",t.className]),type:t.type,placeholder:t.placeholder,required:c.value,value:t.modelValue},null,46,he),W(u.$slots,"default")],4))}}),ve={key:0,class:"noActive"},ge={key:1,class:"chatList"},_e=["onClick"],be=["src"],ye={class:"usersInfo"},we={class:"userName"},ke=C({__name:"ActiveChatModal",props:{closeModal:{type:Function}},setup(e){const n=e,t=S(null),l=j(),c=z(),r=b(()=>l.chats.filter(i=>l.visitedChatIds.includes(i.id)));function u(i){t.value&&!t.value.contains(i.target)&&n.closeModal()}function a(i){c.push(`/chat/${i}`),n.closeModal()}return L(()=>{document.addEventListener("mousedown",u)}),ee(()=>{document.removeEventListener("mousedown",u)}),(i,d)=>(p(),m("div",{ref_key:"modalRef",ref:t,class:"active-chat-modal"},[x(r).length===0?(p(),m("p",ve," There are no active chats ! ")):(p(),m("ul",ge,[(p(!0),m(q,null,P(x(r),f=>{var v,o;return p(),m("li",{key:f.id,class:"chatListItem"},[s("a",{href:"#",onClick:te(h=>a(f.id),["prevent"])},[s("img",{src:(v=f.user)==null?void 0:v.avatar,alt:"Avatar",loading:"lazy",class:"avatar"},null,8,be),s("div",ye,[s("span",we,y((o=f.user)==null?void 0:o.id),1),d[0]||(d[0]=s("span",{class:"reply"},"Reply to message",-1))])],8,_e)])}),128))]))],512))}}),Ce=ne(ke,[["__scopeId","data-v-5146322a"]]),$e={class:"flex items-center justify-between px-7 h-[88px] border-b",style:{borderColor:"var(--Stroke)",background:"transparent",width:"-webkit-fill-available"}},Se={key:0,class:"flex gap-2.5"},Me=["src"],Le={class:"flex flex-col justify-end"},Be={class:"text-[var(--Dark,#1c2434)] font-satoshi font-medium text-[16px] leading-[24px]"},Ee={__name:"Header",setup(e){U.add(oe);const n=G(),t=b(()=>n.params.chatId),l=j(),c=b(()=>l.chats),r=b(()=>c.value.find(i=>i.id===t.value)),u=S(!1),a=()=>u.value=!u.value;return(i,d)=>(p(),m("div",null,[s("header",$e,[r.value?(p(),m("div",Se,[s("img",{src:r.value.user.avatar,alt:"Avatar",class:"rounded-full w-[52px] h-[52px] flex-shrink-0"},null,8,Me),s("div",Le,[s("span",Be,y(r.value.user.id),1),d[0]||(d[0]=s("span",{class:"text-[var(--Text-color,#64748b)] font-satoshi font-medium text-[14px] leading-[22px]"}," Reply to message ",-1))])])):w("",!0),s("button",{onClick:a,class:"ml-auto flex items-center justify-center cursor-pointer bg-transparent border-none w-fit h-fit"},[_(x(H),{icon:["fas","ellipsis-h"],class:"fill-[var(--Text-color,#64748b)]",style:{width:"16px",height:"16px"}})])]),u.value?(p(),B(x(Ce),{key:0,chats:c.value,closeModal:a},null,8,["chats"])):w("",!0)]))}};function je(e){return le()?(re(e),!0):!1}const F=new WeakMap,Fe=(...e)=>{var n;const t=e[0],l=(n=N())==null?void 0:n.proxy;if(l==null&&!Q())throw new Error("injectLocal must be called in setup");return l&&F.has(l)&&t in F.get(l)?F.get(l)[t]:se(...e)},Re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ne=Object.prototype.toString,Te=e=>Ne.call(e)==="[object Object]";function V(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function R(e){return Array.isArray(e)?e:[e]}function Ie(e,n,t){return ae(e,n,{...t,immediate:!0})}const K=Re?window:void 0;function Ae(e){var n;const t=$(e);return(n=t==null?void 0:t.$el)!=null?n:t}function De(...e){const n=[],t=()=>{n.forEach(a=>a()),n.length=0},l=(a,i,d,f)=>(a.addEventListener(i,d,f),()=>a.removeEventListener(i,d,f)),c=b(()=>{const a=R($(e[0])).filter(i=>i!=null);return a.every(i=>typeof i!="string")?a:void 0}),r=Ie(()=>{var a,i;return[(i=(a=c.value)==null?void 0:a.map(d=>Ae(d)))!=null?i:[K].filter(d=>d!=null),R($(c.value?e[1]:e[0])),R(x(c.value?e[2]:e[1])),$(c.value?e[3]:e[2])]},([a,i,d,f])=>{if(t(),!(a!=null&&a.length)||!(i!=null&&i.length)||!(d!=null&&d.length))return;const v=Te(f)?{...f}:f;n.push(...a.flatMap(o=>i.flatMap(h=>d.map(g=>l(o,h,g,v)))))},{flush:"post"}),u=()=>{r(),t()};return je(t),u}function Oe(){const e=M(!1),n=N();return n&&L(()=>{e.value=!0},n),e}function Ve(e){const n=Oe();return b(()=>(n.value,!!e()))}const We=Symbol("vueuse-ssr-width");function ze(){const e=Q()?Fe(We,null):null;return typeof e=="number"?e:void 0}function qe(e,n={}){const{window:t=K,ssrWidth:l=ze()}=n,c=Ve(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),r=M(typeof l=="number"),u=M(),a=M(!1),i=d=>{a.value=d.matches};return ie(()=>{if(r.value){r.value=!c.value;const d=$(e).split(",");a.value=d.some(f=>{const v=f.includes("not all"),o=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let g=!!(o||h);return o&&g&&(g=l>=V(o[1])),h&&g&&(g=l<=V(h[1])),v?!g:g});return}c.value&&(u.value=t.matchMedia($(e)),a.value=u.value.matches)}),De(u,"change",i,{passive:!0}),b(()=>a.value)}const Pe="flex flex-col items-center no-underline",Ue=C({__name:"FooterLogo",props:{variant:{type:String,default:"default"}},setup(e){return(n,t)=>{const l=pe;return p(),B(l,{to:"/",class:k([Pe,e.variant])},{default:E(()=>[s("span",{class:k({"text-white font-normal capitalize":!0,"text-[12.84px] leading-[19.26px] md:text-[17.1px] md:leading-[25.65px]":e.variant==="navbarLogo","text-[19.11px] leading-[28.67px] md:text-[26.96px] md:leading-[40.44px]":e.variant==="formLogo"})}," Sandbox ",2)]),_:1},8,["class"])}}}),Ge=["type","disabled"],He="w-[280px] md:w-[300px] h-[50px] rounded-[20px] shadow-lg border-0 cursor-pointer px-0 flex justify-center items-center uppercase text-[18px] font-normal leading-[27px] tracking-[0.1em] transition-all duration-500 ease-in-out",Qe=`
  text-white
  bg-gradient-to-r from-[#ffc727] via-[#9e40ba] to-[#7000ff]
  hover:scale-105
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Je=`
  text-[#623f8b]
  bg-[#fcfcfc]
  hover:scale-105
  hover:bg-gradient-to-r hover:from-white hover:via-[#623f8b] hover:to-white
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ke=C({__name:"FormButton",props:{type:{type:String,default:"button"},text:{type:String,required:!0},handlerFunction:{type:Function,required:!0},variant:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const n=e,t=c=>c==="multiColorButton"?Qe:c==="whiteButton"?Je:"",l=c=>{n.handlerFunction(c)};return(c,r)=>(p(),m("button",{type:e.type,disabled:e.isDisabled,onClick:l,class:k(`${He} ${t(e.variant)}`)},y(e.text),11,Ge))}}),Xe=""+new URL("Radu.kCTkWP03.webp",import.meta.url).href,Ye={class:"fixed inset-0 z-[150] cursor-default transition-all duration-300 ease-in-out bg-[rgba(34,13,91,0.23)] backdrop-blur-sm flex items-center justify-center"},Ze={class:"w-full flex flex-col items-center gap-6"},et=["src"],tt={class:"flex ml-4 sm:ml-0 gap-4 text-white text-2xl"},nt={href:"https://github.com/turbomatrixxxl",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},ot={href:"https://www.linkedin.com/in/radu-bogdan-naramzoiu-fullstack-developer/",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},st="animate__animated animate__fadeInDown animate__slow",at={__name:"ModalFooter",props:{closeModal:{type:Function,required:!0}},setup(e){const n=S(null),t=r=>{setTimeout(()=>{n.value&&!n.value.contains(r.target)&&e.closeModal()},50)},l=r=>{r.key==="Escape"&&e.closeModal()};L(()=>{document.body.style.overflow="hidden",window.addEventListener("keydown",l),window.addEventListener("mousedown",t)}),ce(()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",l),window.removeEventListener("mousedown",t)});const c=qe("(min-width: 768px)");return(r,u)=>{const a=ue("font-awesome-icon");return p(),m("div",Ye,[s("div",{ref_key:"modalContentRef",ref:n,class:"flex flex-col items-center gap-2 w-[333px] p-4 pt-2 sm:w-[533px] sm:rounded-lg sm:p-5 bg-[var(--primary-color)] shadow-[0_4px_60px_rgba(0,0,0,0.25)] backdrop-blur-[50px]"},[x(c)?(p(),B(Ue,{key:0,variant:"formLogo"})):w("",!0),u[2]||(u[2]=s("h2",{class:"text-white text-xl font-semibold"},"Fullstack Developer:",-1)),s("div",Ze,[s("div",{class:k([["flex items-center justify-between p-2 w-full",st],"sm:grid sm:grid-cols-[60px_170px_180px_50px] sm:items-center"]),style:{"animation-delay":"0.5s"}},[s("img",{src:x(Xe),alt:"Radu",class:"w-[60px] rounded-full"},null,8,et),u[0]||(u[0]=s("span",{class:"ml-4 text-white text-center sm:text-left sm:ml-8"}," Naramzoiu Radu Bogdan ",-1)),u[1]||(u[1]=s("em",{class:"text-white text-center sm:text-left"}," Fullstack Developer ",-1)),s("div",tt,[s("a",nt,[_(a,{icon:"fa-brands fa-github"})]),s("a",ot,[_(a,{icon:"fa-brands fa-linkedin"})])])],2)]),_(Ke,{type:"button",text:"Thank You",variant:"whiteButton",handlerFunction:i=>{i.stopPropagation(),e.closeModal()},class:"mt-4"},null,8,["handlerFunction"])],512)])}}},lt={__name:"Footer",setup(e){const n=S(!1),t=()=>{n.value=!0},l=()=>{n.value=!1};return(c,r)=>(p(),m("footer",{onClick:t,class:"border border-white/20 text-center px-3 py-3 cursor-pointer text-white/60 bg-gradient-to-r from-[#2e1746] to-[#2e225f] transition-colors duration-300 ease-in-out hover:text-[#ff868d]",style:{borderColor:"rgba(255,255,255,0.2)"}},[r[0]||(r[0]=s("div",{class:"md:flex md:flex-row md:justify-center md:gap-2",style:{transition:"all 0.3s ease 0s"}},[s("p",null,"℗ & © Digis 2025"),s("p",{class:"md:ml-2"},"Powered by Radu Bogdan Naramzoiu")],-1)),n.value?(p(),B(at,{key:0,closeModal:l})):w("",!0)]))}},rt={class:"flex flex-col overflow-auto"},it={key:0,class:"p-4 text-center text-gray-600"},ct={key:1,class:"p-4 text-center text-red-600"},ut={key:2,class:"flex flex-col gap-2 p-0 list-none w-full overflow-auto"},dt=["onClick"],ft={class:"relative flex items-center justify-center w-fit"},pt=["src","onError"],mt={class:"flex flex-col overflow-hidden w-full"},ht=["title"],xt=["title"],vt=C({__name:"ChatsList",props:{search:{}},setup(e){const n=e,t=j(),l=z(),c=G(),r=S({});L(()=>{t.chats.length||t.fetchData()});function u(f){setTimeout(()=>{r.value[f]=(r.value[f]||0)+1},1e3)}function a(f){const v=f.messages.filter(o=>o.isInbox);return v.length?v.reduce((o,h)=>new Date(h.sentAt)>new Date(o.sentAt)?h:o):null}const i=b(()=>{const f=n.search.toLowerCase().trim();return t.chats.filter(v=>{var o,h;return(h=(o=v.user)==null?void 0:o.id)==null?void 0:h.toLowerCase().includes(f)})});function d(f){t.accessChat({chatId:f}),l.push(`/chat/${f}`)}return(f,v)=>(p(),m("div",rt,[x(t).loading?(p(),m("div",it," Loading chats... ")):w("",!0),x(t).error?(p(),m("div",ct," Error loading chats: "+y(x(t).error),1)):w("",!0),!x(t).loading&&!x(t).error?(p(),m("ul",ut,[(p(!0),m(q,null,P(i.value,o=>{var h,g,T,I,A,D;return p(),m("li",{key:o==null?void 0:o.id,onClick:Bt=>d(o==null?void 0:o.id),class:k(["flex items-center gap-3 p-2 rounded-md cursor-pointer",x(c).params.chatId===(o==null?void 0:o.id)?"bg-gray-300":"bg-white hover:bg-gray-100"])},[s("div",ft,[(p(),m("img",{key:r.value[o.id]||0,src:((h=o==null?void 0:o.user)==null?void 0:h.avatar)||"",alt:"User avatar",loading:"lazy",onError:()=>u(o==null?void 0:o.id),class:"w-11 h-11 rounded-full flex-shrink-0 object-cover"},null,40,pt)),s("span",{class:k(["absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-gray-300",(g=o==null?void 0:o.user)!=null&&g.isOnline?"bg-green-500":"bg-red-500"])},null,2)]),s("div",mt,[s("p",{class:"text-gray-900 font-medium text-sm truncate",title:((T=o==null?void 0:o.user)==null?void 0:T.id)||""},y((I=o==null?void 0:o.user)==null?void 0:I.id),9,ht),s("p",{class:"text-gray-500 text-sm font-medium truncate",title:((A=a(o))==null?void 0:A.content)||"No messages yet"},y(((D=a(o))==null?void 0:D.content)||"No messages yet"),9,xt)])],10,dt)}),128))])):w("",!0)]))}}),gt=C({__name:"ClientOnlyChatsList",props:{search:{}},setup(e){return(n,t)=>{const l=J;return p(),B(l,null,{default:E(()=>[_(vt,{search:n.search},null,8,["search"])]),_:1})}}}),_t={class:"flex flex-col h-full"},bt={class:"flex justify-center h-full rounded border border-slate-200 bg-white shadow-md"},yt={class:"flex flex-col h-full border-r border-slate-200 w-[27%]"},wt={class:"flex items-center justify-between gap-[58px] h-[88px] px-[25px] pr-[30px] border-b border-slate-200"},kt={class:"inline-flex items-start gap-[10px] rounded border border-slate-200 bg-slate-100 text-slate-800 text-[14px] font-medium leading-[22px] px-[10px] py-[3px]"},Ct={class:"flex flex-col gap-[25px] justify-between overflow-hidden p-[30px] pb-[84px] pl-[25px]"},$t={class:"absolute right-[13px] top-1/2 transform -translate-y-1/2 bg-transparent border-none outline-none"},St={class:"flex flex-col h-[280px] overflow-y-auto"},Mt={class:"flex flex-col flex-grow h-full"},Lt={class:"flex flex-grow bg-transparent h-[100px]"},Ft={__name:"default",setup(e){U.add(de);const n=S(""),t=j(),{selectActiveChats:l}=fe(t);return(c,r)=>{const u=J;return p(),m("div",_t,[s("div",bt,[s("aside",yt,[s("header",wt,[r[1]||(r[1]=s("p",{class:"text-slate-800 text-[20px] font-medium leading-[1.3] h-[26px]"}," Active Conversations ",-1)),s("div",kt,y(x(l)),1)]),s("div",Ct,[_(xe,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value=a),class:"text-slate-500 text-[14px] font-medium leading-[22px] py-[12px] pr-[40px] pl-[18px] relative hover:bg-slate-100 focus:bg-slate-100 transition duration-300",placeholder:"Search..."},{default:E(()=>[s("button",$t,[_(x(H),{icon:["fas","magnifying-glass"],class:"w-[18px] h-[18px] text-slate-500"})])]),_:1},8,["modelValue"]),s("div",St,[_(gt,{search:n.value},null,8,["search"])])])]),s("div",Mt,[_(u,null,{default:E(()=>[_(Ee)]),_:1}),s("main",Lt,[W(c.$slots,"default")])])]),_(lt)])}}};export{Ft as default};
