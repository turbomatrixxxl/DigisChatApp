import{g as S,j as b,c as m,o as f,z as A,a as o,A as W,y as C,r as $,k as L,B as T,C as B,D as K,E as h,F as O,p as V,t as y,x as Y,_ as X,G as q,H as Z,I as U,m as E,n as w,b as _,J as G,K as P,h as H,i as ee,L as te,M as se,N as oe,O as M,P as ne,Q as k,w as Q,R as ae,S as re,T as le,U as ie}from"./C1wTUovz.js";import{_ as ce}from"./BdNdXkWf.js";const de=["autoComplete","name","type","placeholder","required","value"],ue=S({__name:"Input",props:{type:{type:String,default:"text"},placeholder:String,required:{type:[Boolean,String],default:!1},variant:String,className:String,name:String,handleChange:Function,handleBlur:Function,width:[Number,String],value:[String,Number],paddingLeft:String,autoComplete:[Boolean,String],children:null},setup(e){const t=e,s=b(()=>typeof t.required=="string"?t.required.toLowerCase()==="true":t.required);return(a,r)=>(f(),m("div",{class:"relative flex items-center rounded-md border h-fit",style:A({width:t.width||"auto",backgroundColor:"var(--Gray)",borderColor:"var(--Stroke)"})},[o("input",{autoComplete:t.autoComplete??"off",style:A({paddingLeft:t.paddingLeft??"0px"}),onInput:r[0]||(r[0]=(...n)=>t.handleChange&&t.handleChange(...n)),onBlur:r[1]||(r[1]=(...n)=>t.handleBlur&&t.handleBlur(...n)),name:t.name,class:C(["bg-transparent border-none w-full outline-none",t.variant==="center"?"font-semibold text-center":"",t.className]),type:t.type,placeholder:t.placeholder,required:s.value,value:t.value},null,46,de),W(a.$slots,"default")],4))}}),fe={key:0,class:"noActive"},pe={key:1,class:"chatList"},me=["onClick"],he=["src"],xe={class:"usersInfo"},ve={class:"userName"},ge=S({__name:"ActiveChatModal",props:{closeModal:{type:Function}},setup(e){const t=e,s=$(null),a=L(),r=T(),n=b(()=>a.chats.filter(c=>a.visitedChatIds.includes(c.id)));function u(c){s.value&&!s.value.contains(c.target)&&t.closeModal()}function l(c){r.push(`/chat/${c}`),t.closeModal()}return B(()=>{document.addEventListener("mousedown",u)}),K(()=>{document.removeEventListener("mousedown",u)}),(c,p)=>(f(),m("div",{ref_key:"modalRef",ref:s,class:"active-chat-modal"},[h(n).length===0?(f(),m("p",fe," There are no active chats ! ")):(f(),m("ul",pe,[(f(!0),m(O,null,V(h(n),d=>{var x,i;return f(),m("li",{key:d.id,class:"chatListItem"},[o("a",{href:"#",onClick:Y(v=>l(d.id),["prevent"])},[o("img",{src:(x=d.user)==null?void 0:x.avatar,alt:"Avatar",loading:"lazy",class:"avatar"},null,8,he),o("div",xe,[o("span",ve,y((i=d.user)==null?void 0:i.id),1),p[0]||(p[0]=o("span",{class:"reply"},"Reply to message",-1))])],8,me)])}),128))]))],512))}}),_e=X(ge,[["__scopeId","data-v-5146322a"]]),be={class:"flex items-center justify-between px-7 h-[88px] border-b",style:{borderColor:"var(--Stroke)",background:"transparent",width:"-webkit-fill-available"}},ye={key:0,class:"flex gap-2.5"},we=["src"],Ce={class:"flex flex-col justify-end"},ke={class:"text-[var(--Dark,#1c2434)] font-satoshi font-medium text-[16px] leading-[24px]"},$e={__name:"Header",setup(e){q.add(Z);const t=U(),s=b(()=>t.params.chatId),a=L(),r=b(()=>a.chats),n=b(()=>r.value.find(c=>c.id===s.value)),u=$(!1),l=()=>u.value=!u.value;return(c,p)=>(f(),m("div",null,[o("header",be,[n.value?(f(),m("div",ye,[o("img",{src:n.value.user.avatar,alt:"Avatar",class:"rounded-full w-[52px] h-[52px] flex-shrink-0"},null,8,we),o("div",Ce,[o("span",ke,y(n.value.user.id),1),p[0]||(p[0]=o("span",{class:"text-[var(--Text-color,#64748b)] font-satoshi font-medium text-[14px] leading-[22px]"}," Reply to message ",-1))])])):w("",!0),o("button",{onClick:l,class:"ml-auto flex items-center justify-center cursor-pointer bg-transparent border-none w-fit h-fit"},[_(h(G),{icon:["fas","ellipsis-h"],class:"fill-[var(--Text-color,#64748b)]",style:{width:"16px",height:"16px"}})])]),u.value?(f(),E(h(_e),{key:0,chats:r.value,closeModal:l},null,8,["chats"])):w("",!0)]))}};function Se(e){return se()?(oe(e),!0):!1}const j=new WeakMap,Me=(...e)=>{var t;const s=e[0],a=(t=P())==null?void 0:t.proxy;if(a==null&&!H())throw new Error("injectLocal must be called in setup");return a&&j.has(a)&&s in j.get(a)?j.get(a)[s]:ee(...e)},Le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Be=Object.prototype.toString,Ee=e=>Be.call(e)==="[object Object]";function z(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function F(e){return Array.isArray(e)?e:[e]}function je(e,t,s){return te(e,t,{...s,immediate:!0})}const J=Le?window:void 0;function Fe(e){var t;const s=k(e);return(t=s==null?void 0:s.$el)!=null?t:s}function Re(...e){const t=[],s=()=>{t.forEach(l=>l()),t.length=0},a=(l,c,p,d)=>(l.addEventListener(c,p,d),()=>l.removeEventListener(c,p,d)),r=b(()=>{const l=F(k(e[0])).filter(c=>c!=null);return l.every(c=>typeof c!="string")?l:void 0}),n=je(()=>{var l,c;return[(c=(l=r.value)==null?void 0:l.map(p=>Fe(p)))!=null?c:[J].filter(p=>p!=null),F(k(r.value?e[1]:e[0])),F(h(r.value?e[2]:e[1])),k(r.value?e[3]:e[2])]},([l,c,p,d])=>{if(s(),!(l!=null&&l.length)||!(c!=null&&c.length)||!(p!=null&&p.length))return;const x=Ee(d)?{...d}:d;t.push(...l.flatMap(i=>c.flatMap(v=>p.map(g=>a(i,v,g,x)))))},{flush:"post"}),u=()=>{n(),s()};return Se(s),u}function Ie(){const e=M(!1),t=P();return t&&B(()=>{e.value=!0},t),e}function Ne(e){const t=Ie();return b(()=>(t.value,!!e()))}const De=Symbol("vueuse-ssr-width");function Ae(){const e=H()?Me(De,null):null;return typeof e=="number"?e:void 0}function ze(e,t={}){const{window:s=J,ssrWidth:a=Ae()}=t,r=Ne(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),n=M(typeof a=="number"),u=M(),l=M(!1),c=p=>{l.value=p.matches};return ne(()=>{if(n.value){n.value=!r.value;const p=k(e).split(",");l.value=p.some(d=>{const x=d.includes("not all"),i=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let g=!!(i||v);return i&&g&&(g=a>=z(i[1])),v&&g&&(g=a<=z(v[1])),x?!g:g});return}r.value&&(u.value=s.matchMedia(k(e)),l.value=u.value.matches)}),Re(u,"change",c,{passive:!0}),b(()=>l.value)}const We="flex flex-col items-center no-underline",Te=S({__name:"FooterLogo",props:{variant:{type:String,default:"default"}},setup(e){return(t,s)=>{const a=ce;return f(),E(a,{to:"/",class:C([We,e.variant])},{default:Q(()=>[o("span",{class:C({"text-white font-normal capitalize":!0,"text-[12.84px] leading-[19.26px] md:text-[17.1px] md:leading-[25.65px]":e.variant==="navbarLogo","text-[19.11px] leading-[28.67px] md:text-[26.96px] md:leading-[40.44px]":e.variant==="formLogo"})}," Sandbox ",2)]),_:1},8,["class"])}}}),Oe=["type","disabled"],Ve="w-[280px] md:w-[300px] h-[50px] rounded-[20px] shadow-lg border-0 cursor-pointer px-0 flex justify-center items-center uppercase text-[18px] font-normal leading-[27px] tracking-[0.1em] transition-all duration-500 ease-in-out",qe=`
  text-white
  bg-gradient-to-r from-[#ffc727] via-[#9e40ba] to-[#7000ff]
  hover:scale-105
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ue=`
  text-[#623f8b]
  bg-[#fcfcfc]
  hover:scale-105
  hover:bg-gradient-to-r hover:from-white hover:via-[#623f8b] hover:to-white
  hover:bg-[length:200%_100%]
  hover:bg-right
  active:scale-110
`,Ge=S({__name:"FormButton",props:{type:{type:String,default:"button"},text:{type:String,required:!0},handlerFunction:{type:Function,required:!0},variant:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(e){const t=e,s=r=>r==="multiColorButton"?qe:r==="whiteButton"?Ue:"",a=r=>{t.handlerFunction(r)};return(r,n)=>(f(),m("button",{type:e.type,disabled:e.isDisabled,onClick:a,class:C(`${Ve} ${s(e.variant)}`)},y(e.text),11,Oe))}}),Pe=""+new URL("Radu.kCTkWP03.webp",import.meta.url).href,He={class:"fixed inset-0 z-[150] cursor-default transition-all duration-300 ease-in-out bg-[rgba(34,13,91,0.23)] backdrop-blur-sm flex items-center justify-center"},Qe={class:"w-full flex flex-col items-center gap-6"},Je=["src"],Ke={class:"flex ml-4 sm:ml-0 gap-4 text-white text-2xl"},Ye={href:"https://github.com/turbomatrixxxl",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},Xe={href:"https://www.linkedin.com/in/radu-bogdan-naramzoiu-fullstack-developer/",target:"_blank",rel:"noopener noreferrer",class:"hover:text-[#ff868d] active:text-[#ff868d] transition-colors duration-300"},Ze="animate__animated animate__fadeInDown animate__slow",et={__name:"ModalFooter",props:{closeModal:{type:Function,required:!0}},setup(e){const t=$(null),s=n=>{setTimeout(()=>{t.value&&!t.value.contains(n.target)&&e.closeModal()},50)},a=n=>{n.key==="Escape"&&e.closeModal()};B(()=>{document.body.style.overflow="hidden",window.addEventListener("keydown",a),window.addEventListener("mousedown",s)}),ae(()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",a),window.removeEventListener("mousedown",s)});const r=ze("(min-width: 768px)");return(n,u)=>{const l=re("font-awesome-icon");return f(),m("div",He,[o("div",{ref_key:"modalContentRef",ref:t,class:"flex flex-col items-center gap-2 w-[333px] p-4 pt-2 sm:w-[533px] sm:rounded-lg sm:p-5 bg-[var(--primary-color)] shadow-[0_4px_60px_rgba(0,0,0,0.25)] backdrop-blur-[50px]"},[h(r)?(f(),E(Te,{key:0,variant:"formLogo"})):w("",!0),u[2]||(u[2]=o("h2",{class:"text-white text-xl font-semibold"},"Fullstack Developer:",-1)),o("div",Qe,[o("div",{class:C([["flex items-center justify-between p-2 w-full",Ze],"sm:grid sm:grid-cols-[60px_170px_180px_50px] sm:items-center"]),style:{"animation-delay":"0.5s"}},[o("img",{src:h(Pe),alt:"Radu",class:"w-[60px] rounded-full"},null,8,Je),u[0]||(u[0]=o("span",{class:"ml-4 text-white text-center sm:text-left sm:ml-8"}," Naramzoiu Radu Bogdan ",-1)),u[1]||(u[1]=o("em",{class:"text-white text-center sm:text-left"}," Fullstack Developer ",-1)),o("div",Ke,[o("a",Ye,[_(l,{icon:"fa-brands fa-github"})]),o("a",Xe,[_(l,{icon:"fa-brands fa-linkedin"})])])],2)]),_(Ge,{type:"button",text:"Thank You",variant:"whiteButton",handlerFunction:e.closeModal,class:"mt-4"},null,8,["handlerFunction"])],512)])}}},tt={__name:"Footer",setup(e){const t=$(!1),s=()=>{t.value=!0},a=()=>{t.value=!1};return(r,n)=>(f(),m("footer",{onClick:s,class:"border border-white/20 text-center px-3 py-3 cursor-pointer text-white/60 bg-gradient-to-r from-[#2e1746] to-[#2e225f] transition-colors duration-300 ease-in-out hover:text-[#ff868d]",style:{borderColor:"rgba(255,255,255,0.2)"}},[n[0]||(n[0]=o("div",{class:"md:flex md:flex-row md:justify-center md:gap-2",style:{transition:"all 0.3s ease 0s"}},[o("p",null,"℗ & © Digis 2025"),o("p",{class:"md:ml-2"},"Powered by Radu Bogdan Naramzoiu")],-1)),t.value?(f(),E(et,{key:0,closeModal:a})):w("",!0)]))}},st={class:"flex flex-col h-500 overflow-auto",'"':""},ot={key:0,class:"p-4 text-center text-gray-600"},nt={key:1,class:"p-4 text-center text-red-600"},at={key:2,class:"flex flex-col gap-2 p-0 list-none w-full overflow-auto"},rt=["onClick"],lt={class:"relative flex items-center justify-center w-fit"},it=["src","onError"],ct={class:"flex flex-col overflow-hidden w-full"},dt=["title"],ut=["title"],ft=S({__name:"ChatsList",props:{search:{type:String,default:""}},setup(e){const t=e,s=L(),a=T(),r=U(),n=$({});B(()=>{s.chats.length||s.fetchData()});function u(d){setTimeout(()=>{n.value[d]=(n.value[d]||0)+1},1e3)}function l(d){const x=d.messages.filter(i=>i.isInbox);return x.length?x.reduce((i,v)=>new Date(v.sentAt)>new Date(i.sentAt)?v:i):null}const c=b(()=>s.chats.filter(d=>{var x,i;return(i=(x=d.user)==null?void 0:x.id)==null?void 0:i.toLowerCase().includes(t.search.toLowerCase())}));function p(d){s.accessChat({chatId:d}),a.push(`/chat/${d}`)}return(d,x)=>(f(),m("div",st,[h(s).loading?(f(),m("div",ot," Loading chats... ")):w("",!0),h(s).error?(f(),m("div",nt," Error loading chats: "+y(h(s).error),1)):w("",!0),!h(s).loading&&!h(s).error?(f(),m("ul",at,[(f(!0),m(O,null,V(c.value,i=>{var v,g,R,I,N,D;return f(),m("li",{key:i.id,onClick:Ct=>p(i.id),class:C(["flex items-center gap-3 p-2 rounded-md cursor-pointer",h(r).params.chatId===i.id?"bg-gray-300":"bg-white hover:bg-gray-100"])},[o("div",lt,[(f(),m("img",{key:n.value[i.id]||0,src:((v=i.user)==null?void 0:v.avatar)||"",alt:"User avatar",loading:"lazy",onError:()=>u(i.id),class:"w-11 h-11 rounded-full flex-shrink-0 object-cover"},null,40,it)),o("span",{class:C(["absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-gray-300",(g=i.user)!=null&&g.isOnline?"bg-green-500":"bg-red-500"])},null,2)]),o("div",ct,[o("p",{class:"text-gray-900 font-medium text-sm truncate",title:((R=i.user)==null?void 0:R.id)||""},y((I=i.user)==null?void 0:I.id),9,dt),o("p",{class:"text-gray-500 text-sm font-medium truncate",title:((N=l(i))==null?void 0:N.content)||"No messages yet"},y(((D=l(i))==null?void 0:D.content)||"No messages yet"),9,ut)])],10,rt)}),128))])):w("",!0)]))}}),pt={class:"flex flex-col h-full"},mt={class:"flex justify-center h-full rounded border border-slate-200 bg-white shadow-md"},ht={class:"flex flex-col h-full border-r border-slate-200 w-[27%]"},xt={class:"flex items-center justify-between gap-[58px] h-[88px] px-[25px] pr-[30px] border-b border-slate-200"},vt={class:"inline-flex items-start gap-[10px] rounded border border-slate-200 bg-slate-100 text-slate-800 text-[14px] font-medium leading-[22px] px-[10px] py-[3px]"},gt={class:"flex flex-col gap-[25px] justify-between overflow-hidden p-[30px] pb-[84px] pl-[25px]"},_t={class:"absolute right-[13px] top-1/2 transform -translate-y-1/2 bg-transparent border-none outline-none"},bt={class:"flex flex-col h-[280px] overflow-y-auto"},yt={class:"flex flex-col flex-grow h-full"},wt={class:"flex-grow bg-transparent"},St={__name:"default",setup(e){q.add(le);const t=$(""),s=L(),{selectActiveChats:a}=ie(s);return(r,n)=>(f(),m("div",pt,[o("div",mt,[o("aside",ht,[o("header",xt,[n[1]||(n[1]=o("p",{class:"text-slate-800 text-[20px] font-medium leading-[1.3] h-[26px]"}," Active Conversations ",-1)),o("div",vt,y(h(a)),1)]),o("div",gt,[_(ue,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=u=>t.value=u),class:"text-slate-500 text-[14px] font-medium leading-[22px] py-[12px] pr-[40px] pl-[18px] relative hover:bg-slate-100 focus:bg-slate-100 transition duration-300",placeholder:"Search..."},{default:Q(()=>[o("button",_t,[_(h(G),{icon:["fas","magnifying-glass"],class:"w-[18px] h-[18px] text-slate-500"})])]),_:1},8,["modelValue"]),o("div",bt,[_(ft,{search:t.value},null,8,["search"])])])]),o("div",yt,[_($e),o("main",wt,[W(r.$slots,"default")])])]),_(tt)]))}};export{St as default};
